# 📊 预算功能测试指南

## 🎯 预算功能位置

**预算管理** 在底部第三个Tab（图标：饼图 chart.pie.fill）

## 📱 如何测试预算功能

### 1️⃣ 进入预算页面
1. 打开应用
2. 点击底部第三个Tab图标（饼图图标）
3. 进入"预算管理"页面

### 2️⃣ 设置月度预算
1. 在预算页面顶部，找到"本月预算"卡片
2. 点击右上角"编辑"按钮
3. 弹出编辑界面：
   - **月度预算限额**：输入总预算（如：3000）
   - **分类预算**：为每个分类设置限额
     - 餐饮：800
     - 交通：500
     - 购物：700
     - 娱乐：400
     - 生活：300
     - 医疗：200
     - 教育：100
     - 其他：100
4. 点击右上角"保存"

### 3️⃣ 查看预算状态

#### 月度预算显示
- **总预算金额**：显示设置的月度限额
- **进度条**：可视化显示使用进度
  - 蓝色：使用率 < 70%
  - 橙色：使用率 70-80%
  - 红色：使用率 > 80%
- **三项统计**：
  - 已用：当月已花费金额
  - 剩余：还可以使用的金额
  - 使用率：百分比显示

#### 分类预算显示
- 每个分类单独显示：
  - 分类名称
  - 已用/限额（如：¥450 / ¥800）
  - 进度条（颜色变化同月度预算）

### 4️⃣ 测试预算警告

#### 测试步骤
1. 设置月度预算：1000元
2. 添加交易记录直到总额超过800元
3. 观察变化：
   - 进度条变红
   - 使用率显示超过80%
   - 剩余金额变少

#### 分类预算测试
1. 设置餐饮预算：300元
2. 添加多条餐饮类交易
3. 当餐饮支出接近300元时：
   - 该分类进度条变色
   - 显示即将超支

### 5️⃣ 测试场景

#### 场景1：首次设置预算
```
操作：
1. 点击"编辑"
2. 输入月度预算：5000
3. 设置餐饮预算：1500
4. 保存

验证：
- 预算显示正确
- 进度条从0开始
- 剩余金额=总预算
```

#### 场景2：预算超支提醒
```
前提：月度预算3000元，已用2500元
操作：添加一笔600元交易

验证：
- 使用率显示>100%
- 进度条满格显示红色
- 剩余金额显示负数
```

#### 场景3：分类预算控制
```
前提：餐饮预算500元
操作：
1. 添加餐饮300元
2. 再添加餐饮150元
3. 再添加餐饮100元

验证：
- 第一次：进度条60%（蓝色）
- 第二次：进度条90%（橙色/红色）
- 第三次：超支，进度条满格（红色）
```

### 6️⃣ 预算重置

每月1号自动重置（当前版本需手动清空上月记录）：
1. 进入"设置"页面
2. 点击"清空所有数据"（谨慎操作）
3. 重新设置预算

### 7️⃣ 预算提醒

在"设置"页面可以开启/关闭预算提醒：
1. 进入第五个Tab"设置"
2. 找到"预算设置"部分
3. 开启"预算提醒"开关

## 🧪 完整测试清单

- [ ] 设置月度预算
- [ ] 设置分类预算
- [ ] 查看预算进度条
- [ ] 测试预算70%警告（橙色）
- [ ] 测试预算80%警告（红色）
- [ ] 测试预算超支显示
- [ ] 测试分类预算限制
- [ ] 编辑已有预算
- [ ] 预算与实际支出同步
- [ ] 剩余金额计算正确

## 💡 使用技巧

1. **合理设置预算**
   - 月度预算：根据收入的70-80%设置
   - 分类预算：根据历史消费习惯分配

2. **定期查看**
   - 每周查看一次预算使用情况
   - 及时调整消费行为

3. **预警处理**
   - 橙色警告：开始控制支出
   - 红色警告：严格控制，只买必需品

## 📊 预算公式

- **使用率** = (已用金额 ÷ 预算限额) × 100%
- **剩余金额** = 预算限额 - 已用金额
- **日均可用** = 剩余金额 ÷ 本月剩余天数

## ⚠️ 注意事项

1. 预算数据保存在本地，不会丢失
2. 清空数据会同时清空预算设置
3. 预算不会自动按月重置（需手动管理）
4. 分类预算是可选的，可以只设置总预算

---

*测试环境：iOS 14.0+*
*更新时间：2025-09-12*