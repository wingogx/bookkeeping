# 🧪 VoiceBudget v1.0.6 人工测试指南

**测试版本**: v1.0.6 功能完整版
**测试日期**: 2025年9月14日
**测试目标**: 验证所有20个新功能正常工作

---

## 📋 测试前准备

### 🔧 Xcode设置检查
1. **确保Xcode项目已打开** ✅
2. **检查目标设备设置**:
   - iOS Deployment Target: 14.0+
   - 选择iPhone模拟器或真机

3. **权限配置验证**:
   ```
   Info.plist应包含：
   - NSSpeechRecognitionUsageDescription
   - NSMicrophoneUsageDescription
   ```

4. **构建项目**:
   - 按 `Cmd+B` 构建项目
   - 确保无编译错误

### 🚀 启动应用
1. 按 `Cmd+R` 运行应用
2. 首次启动应显示引导页面
3. 如果是升级测试，应显示v1.0.6版本号

---

## 🎯 分阶段测试计划

### Phase 1: 新手体验测试 (S-15, S-16)

#### 📱 首次启动引导测试
**期望行为**: 首次启动显示三屏引导

**测试步骤**:
1. 删除应用重新安装 (或清除UserDefaults)
2. 启动应用
3. **验证引导页面**:
   - 第1屏: "3秒语音记账" + 麦克风图标
   - 第2屏: "让记账变有趣" + 奖杯图标
   - 第3屏: "掌握财务状况" + 图表图标
4. **测试导航**:
   - 点击"跳过" -> 应直接进入主界面
   - 或点击"下一步" -> 逐页浏览
   - 最后页点击"开始使用" -> 进入主界面

**通过标准**: ✅ 引导页面显示正确，导航功能正常

---

### Phase 2: 核心功能测试 (S-01~S-07)

#### 🎤 语音记账功能测试
**测试步骤**:
1. 进入首页，点击麦克风图标
2. 说话："午餐花了25.8元"
3. **验证结果**:
   - 语音识别文本显示正确
   - 自动解析金额：25.8
   - 自动分类：餐饮
   - 触觉反馈触发 (如果开启)

#### 🏆 成就系统测试
**测试步骤**:
1. 完成第一笔记账
2. **验证成就解锁**:
   - 应弹出成就解锁Alert："🎉 成就解锁！"
   - Alert内容包含成就标题和描述
   - 点击"太棒了！"关闭

3. **查看成就**:
   - 进入设置 -> 游戏化 -> 成就系统
   - 验证"首次记账"成就已解锁
   - 其他成就显示未解锁状态

#### 🔥 连击系统测试
**测试步骤**:
1. 连续多日进行记账 (可修改系统日期测试)
2. **验证连击显示**:
   - 首页导航栏右侧应显示"🔥 X天"
   - 连击数量应正确累计
   - 断线后应重置为1

---

### Phase 3: UI增强功能测试 (S-08~S-11)

#### 😊 预算情绪表达测试
**测试步骤**:
1. 设置月预算 (如1000元)
2. 添加不同金额的交易，观察预算区域的emoji变化:
   - <30%使用率 -> 😊
   - 30-50% -> 🙂
   - 50-70% -> 😐
   - 70-90% -> 😰
   - >90% -> 🤯

#### 💬 鼓励文案测试
**测试步骤**:
1. 完成记账操作
2. 验证首页Today Summary下方显示鼓励文案
3. 多次记账，验证文案随机变化
4. 在设置中关闭鼓励文案，验证不再显示

---

### Phase 4: 设置功能测试 (S-12~S-14)

#### 📊 数据导出测试
**测试步骤**:
1. 进入设置 -> 数据管理 -> 导出数据
2. 选择不同时间范围 (本月/近三个月/近半年/全部数据)
3. 点击"导出为CSV文件"
4. **验证分享功能**:
   - 应弹出iOS系统分享界面
   - 可选择分享到AirDrop、邮件等
   - CSV内容格式正确

#### 🔔 通知设置测试
**测试步骤**:
1. 进入设置 -> 通知设置
2. **测试各个开关**:
   - 开启"启用通知" -> 应请求通知权限
   - 设置"提醒时间" -> 时间选择器正常工作
   - 开关"预算警告通知"、"触觉反馈"、"鼓励文案"
3. 验证设置保存和生效

#### 🏆 成就入口测试
**测试步骤**:
1. 进入设置 -> 游戏化 -> 成就系统
2. **验证显示内容**:
   - 显示解锁进度 "(X/8)"
   - 点击进入成就详情页面
   - 成就卡片正确显示解锁/未解锁状态

---

### Phase 5: 高级功能测试 (S-17~S-20)

#### 🎉 成就解锁动画测试
**测试步骤**:
1. 触发成就解锁条件 (如连续3天记账)
2. **验证动画效果**:
   - Alert弹出有动画效果
   - 标题显示"🎉 成就解锁！"
   - 包含成就名称和描述
   - 触觉反馈触发

#### 🔄 版本升级测试
**测试步骤**:
1. 在设置页面查看版本信息
2. **验证版本显示**:
   - 版本号显示"1.0.6"
   - 副标题显示"功能完整版"
3. **验证数据迁移** (如果从旧版本升级):
   - 现有交易记录完整保留
   - 新功能正常工作

---

## 🎯 完整用户流程测试

### 📱 新用户完整流程
**目标**: 模拟新用户的完整使用体验

**测试步骤**:
1. **首次启动** -> 引导页面体验
2. **第一笔记账** -> 语音识别 + 成就解锁
3. **查看成就** -> 成就系统界面
4. **设置预算** -> 预算管理功能
5. **持续记账** -> 连击系统 + 情绪表达
6. **导出数据** -> 数据导出功能
7. **个性化设置** -> 通知和反馈设置

### 📊 老用户升级流程
**目标**: 验证版本迁移功能

**前提**: 有v1.0.5的数据
**测试步骤**:
1. 启动v1.0.6版本
2. 验证现有数据完整保留
3. 验证新功能正常工作
4. 验证统计数据正确初始化

---

## ⚠️ 重点测试区域

### 🔴 关键功能验证
1. **语音识别准确性**
   - 各种金额格式：25.8元、100块、五十
   - 不同分类关键词：餐饮、交通、购物
   - 异常输入处理

2. **成就系统完整性**
   - 8种成就类型都能正确解锁
   - 解锁条件准确判断
   - 动画和反馈正常

3. **连击系统准确性**
   - 连续日期计算正确
   - 跨天边界处理
   - 断线重置逻辑

4. **数据持久化**
   - 应用重启后数据完整
   - 设置选项正确保存
   - 成就进度不丢失

### 🟡 边界条件测试
1. **极限数据测试**
   - 大量交易记录 (100+)
   - 极大金额输入
   - 长文本备注

2. **权限处理测试**
   - 拒绝麦克风权限
   - 拒绝通知权限
   - 权限变更后的恢复

3. **网络和存储测试**
   - 存储空间不足
   - 系统中断恢复

---

## 📊 测试结果记录模板

### 测试记录表格
```
| 功能模块 | 测试项目 | 预期结果 | 实际结果 | 通过/失败 | 备注 |
|---------|---------|---------|---------|---------|------|
| 新手引导 | 三屏引导显示 |  |  |  |  |
| 语音识别 | 金额解析 |  |  |  |  |
| 成就系统 | 首次记账解锁 |  |  |  |  |
| 连击系统 | 连击计数 |  |  |  |  |
| 预算情绪 | emoji变化 |  |  |  |  |
| 鼓励文案 | 文案显示 |  |  |  |  |
| 数据导出 | CSV生成 |  |  |  |  |
| 通知设置 | 权限请求 |  |  |  |  |
| 成就入口 | 界面显示 |  |  |  |  |
| 解锁动画 | 动画效果 |  |  |  |  |
```

### 🐛 问题报告模板
如果发现问题，请记录：
```
问题标题:
重现步骤:
预期行为:
实际行为:
影响程度: 严重/一般/轻微
设备信息: iPhone型号/iOS版本
```

---

## 🚀 测试建议

### 💡 测试技巧
1. **使用真机测试**: 语音识别功能最好用真机测试
2. **多场景测试**: 安静环境和嘈杂环境
3. **持续使用**: 模拟真实用户的多日使用
4. **边界测试**: 测试极限情况和异常输入

### 📱 推荐测试设备
- **iPhone 12+**: 最佳性能体验
- **iOS 15.0+**: 推荐系统版本
- **真机优先**: 语音功能和触觉反馈

---

## ✅ 测试完成检查清单

### 核心功能 ✓
- [ ] 语音识别和文本解析
- [ ] 成就系统完整流程
- [ ] 连击系统计数准确
- [ ] 数据导出功能正常
- [ ] 版本迁移无数据丢失

### UI/UX功能 ✓
- [ ] 新手引导流程完整
- [ ] 预算情绪表达正确
- [ ] 鼓励文案显示和开关
- [ ] 连击显示器工作正常
- [ ] 成就解锁动画效果

### 设置功能 ✓
- [ ] 通知权限和设置
- [ ] 触觉反馈控制
- [ ] 个性化选项保存
- [ ] 成就查看入口
- [ ] 版本信息显示

### 整体体验 ✓
- [ ] 应用启动流畅
- [ ] 操作响应及时
- [ ] 数据保存可靠
- [ ] 界面美观统一
- [ ] 功能逻辑清晰

---

**🎉 准备开始测试！祝你测试顺利，体验VoiceBudget v1.0.6的所有新功能！**